# 020_总览与路线图 / 实施路线图（WMSDU-020）

- **唯一ID**：WMSDU-020
- **版本**：v1.0（2025-09-22）
- **目标**：将已完成各模块方案统筹为 8 周可执行的工程化计划；本期重点：**170_拼多多MVP闭环**
- **范围**：采购、入库、库存、拣货、退货、出库、财务、运维
- **当前状态**：
  - contracts 已入库（040 统一订单模型；170 PDD 三接口 OpenAPI 草案；示例数据）
  - CI（`CI / Build & Push`）可用；PR 上只 build，push 分支才推镜像；tag 已做 SAFE_REF 清洗
  - `main` 已启用分支保护（Require PR + Required check: build）
  - 本地 Docker 运行成功，`/healthz` 返回 `{"ok": true}`

## 8 周路线图（两周一迭代）
- **Sprint 0（第1–2周）｜打地基**  
  D：CI/CD、测试环境、观测基线；  
  B：040 模型首版；170 三接口契约草案；  
  E：210 指标与告警阈值初稿；  
  A：冻结 MVP 与变更流程。
- **Sprint 1（第3–4周）｜拼多多MVP最短链路**  
  B：170 拉单→发货回传→库存同步端到端；  
  C：060/070/065 对接联调，走“平台取号”发货；  
  D：120 打印规格；  
  E：仪表盘+失败SOP雏形。
- **Sprint 2（第5–6周）｜稳健性与UAT**  
  B：限频/签名过期/网络抖动/重放防护；  
  C：080 退货异常闭环、065 库存一致性补强；  
  E：UAT通过、上线清单/灰度预案。
- **Sprint 3（第7–8周）｜放量与扩面（可选）**  
  B：220 承运商直连 PoC；  
  C：075 盘点、160 对账报表；  
  E：培训与值班手册。

## 首批任务卡（S0 关键）
- WMSDU-040-001｜040_统一订单模型首版（字段/类型/必填/默认/枚举）
- WMSDU-170-001｜拉单接口契约草案（OpenAPI）
- WMSDU-170-002｜发货回传契约草案
- WMSDU-170-003｜库存同步契约草案
- WMSDU-130-001｜仓库与 CI/CD 起盘（lint+单测+构建+部署到测试）
- WMSDU-130-002｜分支与提交规范（门禁）
- WMSDU-210-001｜MVP 指标与告警（仪表盘）

## 质量门禁
- **DoR**：编号卡片、验收标准、契约/原型、依赖清单明确并评审通过  
- **DoD**：单测≥70%（核心路径≥85%）；契约测试与联调通过；日志与指标齐全；文档与变更记录入库

## NFR 基线
- 成功率 ≥ 99%（接口级，滚动5分钟）
- P95 延迟：按接口设定目标
- 限频命中 ≤ 10%，命中即指数退避（1s/4s/9s，至多3次）
- 幂等键：拉单=平台订单号；库存=SKU+仓+版本；回传=订单号+运单号

## 风险台账模板
- 【风险ID】R-YYYYMMDD-001
- 【描述】…  【概率/影响】高/中/低  
- 【应对】规避/减轻/转移/接受（措施/责任人）  
- 【触发条件】…  【状态】打开/缓解中/关闭  
- 【负责人】…  【下次复审】…

## 上线清单（MVP）
- 契约稳定：170 三接口与 040 模型一一对应，测试样例落库  
- CI/CD：dev 自动构建部署测试，质量门禁生效  
- 监控：210 面板阈值启用，报警路由到位  
- UAT：20+ 用例全绿（正向/边界/异常/重放）  
- 灰度：10–20% 流量/单店铺/单仓；回滚方案明确
