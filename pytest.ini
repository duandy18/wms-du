# pytest.ini
[pytest]
addopts = -q -ra -s
asyncio_mode = auto

markers =
    # ===== 旧版兼容 =====
    legacy: tests that belong to legacy/phase>1 flows (multi-platform, event stream, concurrency, etc.)
    phase1: tests that belong to v1.0(+): single platform, multi-store (same company), single warehouse

    # ===== 分组调试标记（A–E 组） =====
    grp_core: Core 库存与台账 (inventory_adjust, inventory_ops, ledger_writer, stock_helpers, stock_service, uow)
    grp_flow: Inbound→Putaway→Outbound 流程闭环 (含幂等)
    grp_reverse: Reservation / RMA / Reconcile 逆向与修正
    grp_snapshot: Snapshot / Channel Inventory 快照与渠道导出
    grp_events: Platform / Events / Gateway 平台事件与编排
