                                                                                            Table "public.platform_events"
   Column    |           Type           | Collation | Nullable |                                             Default                                             | Storage  | Compression | Stats target | Description
-------------+--------------------------+-----------+----------+-------------------------------------------------------------------------------------------------+----------+-------------+--------------+-------------
 id          | bigint                   |           | not null | nextval('platform_events_id_seq'::regclass)                                                     | plain    |             |              |
 platform    | text                     |           | not null |                                                                                                 | extended |             |              |
 event_type  | text                     |           | not null |                                                                                                 | extended |             |              |
 event_id    | text                     |           | not null |                                                                                                 | extended |             |              |
 occurred_at | timestamp with time zone |           | not null |                                                                                                 | plain    |             |              |
 payload     | jsonb                    |           | not null |                                                                                                 | extended |             |              |
 status      | text                     |           | not null | 'NEW'::text                                                                                     | extended |             |              |
 dedup_key   | text                     |           | not null | generated always as ((((platform || ':'::text) || event_type) || ':'::text) || event_id) stored | extended |             |              |
Indexes:
    "platform_events_pkey" PRIMARY KEY, btree (id)
    "ix_platform_events_platform_occurred" btree (platform, occurred_at)
    "uq_platform_events_dedup" UNIQUE CONSTRAINT, btree (dedup_key)
Check constraints:
    "ck_platform_events_status" CHECK (status = ANY (ARRAY['NEW'::text, 'NORMALIZED'::text, 'DISPATCHED'::text, 'PERSISTED'::text, 'ERROR'::text]))
Access method: heap
